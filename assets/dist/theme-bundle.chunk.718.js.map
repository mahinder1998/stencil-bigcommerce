{"version":3,"file":"theme-bundle.chunk.718.js","mappings":"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","sources":["webpack://bigcommerce-cornerstone/./assets/js/theme/custom/product/awesome-product.js","webpack://bigcommerce-cornerstone/./assets/js/theme/product/video-gallery.js","webpack://bigcommerce-cornerstone/./assets/js/theme/product.js"],"sourcesContent":["import Product from \"../../product\";\r\nexport default class AwesomeProduct extends Product {\r\n    onReady() {\r\n         // fancyBox\r\n         $('[data-fancybox=\"gallery\"]').fancybox({\r\n            buttons: ['slideShow', 'share', 'zoom', 'fullScreen', 'close'], // Customize as needed\r\n            loop: true, // Enables looping through the images\r\n        });\r\n        // fancyBox end\r\n    }\r\n} ","export class VideoGallery {\n    constructor($element) {\n        this.$player = $element.find('[data-video-player]');\n        this.$videos = $element.find('[data-video-item]');\n        this.currentVideo = {};\n        this.bindEvents();\n    }\n\n    selectNewVideo(e) {\n        e.preventDefault();\n\n        const $target = $(e.currentTarget);\n\n        this.currentVideo = {\n            id: $target.data('videoId'),\n            $selectedThumb: $target,\n        };\n\n        this.setMainVideo();\n        this.setActiveThumb();\n    }\n\n    setMainVideo() {\n        this.$player.attr('src', `//www.youtube.com/embed/${this.currentVideo.id}`);\n    }\n\n    setActiveThumb() {\n        this.$videos.removeClass('is-active');\n        this.currentVideo.$selectedThumb.addClass('is-active');\n    }\n\n    bindEvents() {\n        this.$videos.on('click', this.selectNewVideo.bind(this));\n    }\n}\n\nexport default function videoGallery() {\n    const pluginKey = 'video-gallery';\n    const $videoGallery = $(`[data-${pluginKey}]`);\n\n    $videoGallery.each((index, element) => {\n        const $el = $(element);\n        const isInitialized = $el.data(pluginKey) instanceof VideoGallery;\n\n        if (isInitialized) {\n            return;\n        }\n\n        $el.data(pluginKey, new VideoGallery($el));\n    });\n}\n","/*\n Import all product specific js\n */\nimport PageManager from './page-manager';\nimport Review from './product/reviews';\nimport collapsibleFactory from './common/collapsible';\nimport ProductDetails from './common/product-details';\nimport videoGallery from './product/video-gallery';\nimport { classifyForm } from './common/utils/form-utils';\nimport modalFactory from './global/modal';\nimport { Fancybox } from \"@fancyapps/fancybox\";\n\nexport default class Product extends PageManager {\n    constructor(context) {\n        super(context);\n        this.url = window.location.href;\n        this.$reviewLink = $('[data-reveal-id=\"modal-review-form\"]');\n        this.$bulkPricingLink = $('[data-reveal-id=\"modal-bulk-pricing\"]');\n        this.reviewModal = modalFactory('#modal-review-form')[0];\n    }\n\n    onReady() { \n        // // fancyBox\n        // $('[data-fancybox=\"gallery\"]').fancybox({\n        //     buttons: ['slideShow', 'share', 'zoom', 'fullScreen', 'close'], // Customize as needed\n        //     loop: true, // Enables looping through the images\n        // });\n        // // fancyBox end\n\n        // Listen for foundation modal close events to sanitize URL after review.\n        $(document).on('close.fndtn.reveal', () => {\n            if (this.url.indexOf('#write_review') !== -1 && typeof window.history.replaceState === 'function') {\n                window.history.replaceState(null, document.title, window.location.pathname);\n            }\n        });\n\n        let validator;\n\n        // Init collapsible\n        collapsibleFactory();\n\n        this.productDetails = new ProductDetails($('.productView'), this.context, window.BCData.product_attributes);\n        this.productDetails.setProductVariant();\n\n        videoGallery();\n\n        this.bulkPricingHandler();\n\n        const $reviewForm = classifyForm('.writeReview-form');\n\n        if ($reviewForm.length === 0) return;\n\n        const review = new Review({ $reviewForm });\n\n        $('body').on('click', '[data-reveal-id=\"modal-review-form\"]', () => {\n            validator = review.registerValidation(this.context);\n            this.ariaDescribeReviewInputs($reviewForm);\n        });\n\n        $reviewForm.on('submit', () => {\n            if (validator) {\n                validator.performCheck();\n                return validator.areAll('valid');\n            }\n\n            return false;\n        });\n\n        this.productReviewHandler();\n    }\n\n    ariaDescribeReviewInputs($form) {\n        $form.find('[data-input]').each((_, input) => {\n            const $input = $(input);\n            const msgSpanId = `${$input.attr('name')}-msg`;\n\n            $input.siblings('span').attr('id', msgSpanId);\n            $input.attr('aria-describedby', msgSpanId);\n        });\n    }\n\n    productReviewHandler() {\n        if (this.url.indexOf('#write_review') !== -1) {\n            this.$reviewLink.trigger('click');\n        }\n    }\n\n    bulkPricingHandler() {\n        if (this.url.indexOf('#bulk_pricing') !== -1) {\n            this.$bulkPricingLink.trigger('click');\n        }\n    }\n}\n"],"names":["AwesomeProduct","_Product","apply","arguments","prototype","onReady","$","fancybox","buttons","loop","Product","VideoGallery","$element","this","$player","find","$videos","currentVideo","bindEvents","_proto","selectNewVideo","e","preventDefault","$target","currentTarget","id","data","$selectedThumb","setMainVideo","setActiveThumb","attr","removeClass","addClass","on","bind","_PageManager","context","_this","call","url","window","location","href","$reviewLink","$bulkPricingLink","reviewModal","modalFactory","validator","pluginKey","_this2","document","indexOf","history","replaceState","title","pathname","collapsibleFactory","productDetails","ProductDetails","BCData","product_attributes","setProductVariant","each","index","element","$el","bulkPricingHandler","$reviewForm","classifyForm","length","review","Review","registerValidation","ariaDescribeReviewInputs","performCheck","areAll","productReviewHandler","$form","_","input","$input","msgSpanId","siblings","trigger","PageManager"],"sourceRoot":""}